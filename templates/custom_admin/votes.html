{% extends 'custom_admin/admin_base.html' %}
{% block content %}
<div class="antialiased sans-serif bg-gray-200 h-screen">
	<div class="container mx-auto py-6 px-4">
		<h1 class="text-3xl py-4 border-b mb-10">Votes</h1>
		<table class="table-fixed">
<div class="overflow-x-auto relative">
    <table class="w-full text-sm text-left text-gray-500 dark:text-gray-400" x-data="Sortingdata()">
        <thead class="text-xs text-gray-700 uppercase bg-gray-50 dark:bg-gray-700 dark:text-gray-400">
            <tr>
				<th scope="col" class="py-3 px-6" @click="sortByColumn">
                    User
                </th>
                <th scope="col" class="py-3 px-6" @click="sortByColumn">
                    Item
                </th>
                <th scope="col" class="py-3 px-6" @click="sortByColumn">
                    Subscribed
                </th>
                <th scope="col" class="py-3 px-6" @click="sortByColumn">
                    Date
                </th>
            </tr>
        </thead>
        <tbody>
			{% for vote in votes %}
				<tr class="bg-white border-b dark:bg-gray-800 dark:border-gray-700">
					<td class="py-4 px-6">
						{{vote.user.username}}
					</td>
					<th scope="row" class="py-4 px-6 font-medium text-gray-900 whitespace-nowrap dark:text-white">
						{{vote.task.name}}
					</th>
					<td class="py-4 px-6">
						{{vote.task.subscribed}}
					</td>
					<td class="py-4 px-6">
						{{vote.created}}
					</td>
				</tr>
			{% endfor %}
        </tbody>
    </table>

		{% if is_paginated %}
			<div class="pagination">
				<span class="page-links">
					{% if page_obj.has_previous %}
						<a href="{% url 'custom_admin:votes' %}?page={{ page_obj.previous_page_number }}">previous</a>
					{% endif %}
					<span class="page-current">
						Page {{ page_obj.number }} of {{ page_obj.paginator.num_pages }}.
					</span>
					{% if page_obj.has_next %}
						<a href="{% url 'custom_admin:votes' %}?page={{ page_obj.next_page_number }}">next</a>
					{% endif %}
				</span>
			</div>
	{% endif %}
</div>
</div>

{% endblock %}