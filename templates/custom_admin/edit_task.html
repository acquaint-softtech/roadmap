{% extends 'custom_admin/admin_base.html' %}
{% load widget_tweaks %}
{% load static %}
{% block content %}
{{form.media}}
<div class="filament-main-content flex-1 w-full px-4 mx-auto md:px-6 lg:px-8 max-w-full" x-data="TaskEdit()" x-init="init()">

    <div class="filament-page filament-resources-edit-record-page filament-resources-items filament-resources-record-11">
        <div class="space-y-6">
            <header
                class="filament-header space-y-2 items-start justify-between sm:flex sm:space-y-0 sm:space-x-4  sm:rtl:space-x-reverse sm:py-4">
                <h1 class="text-2xl font-bold tracking-tight md:text-3xl filament-header-heading">
                    Edit {{object.name}}
                </h1>

                <div class="filament-page-actions flex flex-wrap items-center gap-4 justify-start shrink-0">
                    <a class="filament-button inline-flex items-center justify-center py-1 gap-1 font-medium rounded-lg border transition-colors focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-inset dark:focus:ring-offset-0 min-h-[2.25rem] px-4 text-sm text-gray-800 bg-white border-gray-300 focus:ring-primary-600 focus:text-primary-600 focus:bg-primary-50 focus:border-primary-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-200 dark:focus:text-primary-400 dark:focus:border-primary-400 dark:focus:bg-gray-800 filament-page-button-action"
                        href="{% url 'project:task_detail' object.slug %}">
                        <span class="text-black">
                            View public
                        </span>
                    </a>
                    
                      <button type="button" @click="og_popup = true" class="filament-button inline-flex items-center justify-center py-1 gap-1 font-medium rounded-lg border transition-colors focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-inset dark:focus:ring-offset-0 min-h-[2.25rem] px-4 text-sm text-gray-800 bg-white border-gray-300 focus:ring-primary-600 focus:text-primary-600 focus:bg-primary-50 focus:border-primary-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-200 dark:focus:text-primary-400 dark:focus:border-primary-400 dark:focus:bg-gray-800 filament-page-button-action">
                        <span class="flex items-center gap-1">
                            <span class="text-black">
                                Flush OG image
                            </span>
                        </span>
                    </button>
                    </form>
                    

                    <button type="button" @click="showingPopup('{{object.name}}',window.reverse('custom_admin:delete_task', { slug: '{{object.slug}}' }))"
                         class="bg-red-600 filament-button inline-flex items-center justify-center py-1 gap-1 font-medium rounded-lg border transition-colors focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-inset dark:focus:ring-offset-0 min-h-[2.25rem] px-4 text-sm text-gray-800 bg-white border-gray-300 focus:ring-primary-600 focus:text-primary-600 focus:bg-primary-50 focus:border-primary-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-200 dark:focus:text-primary-400 dark:focus:border-primary-400 dark:focus:bg-gray-800 filament-page-button-action"
                        >
                        <span class="flex items-center gap-1">
                            <span class="text-white">
                                Delete
                            </span>
                        </span>

                    </button>

                </div>
            </header>


            <form class="filament-form space-y-6" method="post">{% csrf_token %}
                <div class="grid grid-cols-1      filament-forms-component-container gap-6">
                    <div class=" col-span-full">
                        <div>
                            <div class="grid grid-cols-1   lg:grid-cols-4   filament-forms-component-container gap-6">
                                <div class=" col-span-3">
                                    <div  class="filament-forms-tabs-component rounded-xl shadow-sm border border-gray-300 bg-white dark:bg-gray-800 dark:border-gray-700">
                                        <input type="hidden" value="[&quot;-item-tab&quot;,&quot;-management-tab&quot;]"
                                            x-ref="tabsData">

                                        <div aria-label="Heading" role="tablist"
                                            class="filament-forms-tabs-component-header rounded-t-xl flex overflow-y-auto bg-gray-100 dark:bg-gray-700">
                                            <button type="button" aria-controls="-item-tab"
                                                class="filament-forms-tabs-component-button flex items-center gap-2 shrink-0 p-3 text-sm font-medium filament-forms-tabs-component-button-active bg-white text-primary-600 dark:bg-gray-800"
                                                 aria-selected="true" tabindex="0">

                                                <span>Item</span>

                                            </button>
                                            <button type="button" aria-controls="-management-tab"
                                                 aria-selected="false" tabindex="-1">

                                                <span>Management</span>

                                            </button>
                                        </div>

                                        <div aria-labelledby="-item-tab" id="-item-tab" role="tabpanel" tabindex="0"

                                            class="filament-forms-tabs-component-tab focus:outline-none p-6">
                                            <div
                                                class="grid grid-cols-1   lg:grid-cols-2   filament-forms-component-container gap-6">
                                                <div
                                                    class=" col-span-1     ">
                                                    <div class="filament-forms-field-wrapper">

                                                        <div class="space-y-2">
                                                            <div
                                                                class="flex items-center justify-between space-x-2 rtl:space-x-reverse">
                                                                <label
                                                                    class="filament-forms-field-wrapper-label inline-flex items-center space-x-3 rtl:space-x-reverse"
                                                                    for="data.title">
                                                                    <span
                                                                        class="text-sm font-medium leading-4 text-gray-700 dark:text-gray-300">
                                                                        Title

                                                                        <sup class="font-medium text-red-600">*</sup>
                                                                    </span>
                                                                </label>

                                                            </div>

                                                            <div
                                                                class="filament-forms-text-input-component flex items-center space-x-2 rtl:space-x-reverse group">
                                                                <div class="flex-1">
                                                                    <input name="name" value="{{form.name.value}}" id="data.title"
                                                                        class="block w-full rounded-lg border-none px-3 py-2 shadow-sm ring-1 ring-inset transition duration-75 focus:ring-2 focus:ring-inset focus:ring-primary-500 disabled:opacity-70 sm:py-2.5 sm:text-sm dark:bg-gray-700 dark:text-white dark:focus:ring-primary-500 ring-gray-300 dark:ring-gray-600">
                                                                </div>
                                                            </div>


                                                        </div>
                                                    </div>

                                                </div>

                                                <div
                                                    class=" col-span-1">
                                                    <div class="filament-forms-field-wrapper">

                                                        <div class="space-y-2">
                                                            <div
                                                                class="flex items-center justify-between space-x-2 rtl:space-x-reverse">
                                                                <label
                                                                    class="filament-forms-field-wrapper-label inline-flex items-center space-x-3 rtl:space-x-reverse"
                                                                    for="data.user_id">
                                                                    <span
                                                                        class="text-sm font-medium leading-4 text-gray-700 dark:text-gray-300">
                                                                        User
                                                                        <sup class="font-medium text-red-600">*</sup>
                                                                    </span>


                                                                </label>

                                                            </div>

                                                            <div
                                                                class="filament-forms-select-component flex items-center space-x-1 rtl:space-x-reverse group">



                                                                <div class="flex-1 min-w-0">
                                                                    <div>
                                                                        {{form.created_by}}
                                                                        <span>{{form.errors.created_by}}</span>
                                                                    </div>
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>

                                                <div class=" col-span-2">
                                                    <div class="filament-forms-field-wrapper">
                                                        <div class="space-y-2">
                                                            <div class="flex items-center justify-between space-x-2 rtl:space-x-reverse">
                                                                <label
                                                                    class="filament-forms-field-wrapper-label inline-flex items-center space-x-3 rtl:space-x-reverse">
                                                                    <span class="text-sm font-medium leading-4 text-gray-700 dark:text-gray-300">Content
                                                                        <sup class="font-medium text-red-600">*</sup>
                                                                    </span>
                                                                </label>
                                                            </div>
                                                            <div  class="filament-forms-markdown-editor-component">
                                                                {{form.description}}
                                                              <span class="text-red-500">{{form.errors.description}}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>

                                <div class=" col-span-1">
                                    <div
                                        class="filament-forms-card-component p-6 bg-white rounded-xl border border-gray-300 dark:border-gray-600 dark:bg-gray-800">
                                        <div class="grid grid-cols-1 filament-forms-component-container gap-6">
                                            <div class=" col-span-1">
                                                <div class="filament-forms-field-wrapper">

                                                    <div class="space-y-2">
                                                        <div
                                                            class="flex items-center justify-between space-x-2 rtl:space-x-reverse">
                                                            <label
                                                                class="filament-forms-field-wrapper-label inline-flex items-center space-x-3 rtl:space-x-reverse"
                                                                for="data.project_id">
                                                                <span
                                                                    class="text-sm font-medium leading-4 text-gray-700 dark:text-gray-300">
                                                                    Project

                                                                    <sup class="font-medium text-red-600">*</sup>
                                                                </span>
                                                            </label>

                                                        </div>

                                                        <div  x-on:change="Boards($event)" class="filament-forms-select-component flex items-center space-x-1 rtl:space-x-reverse group">
                                                            <div class="flex-1 min-w-0">
                                                                {{form.project}}
                                                                <span>{{form.errors.project}}</span>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class=" col-span-1">
                                                <div class="filament-forms-field-wrapper">

                                                    <div class="space-y-2">
                                                        <div
                                                            class="flex items-center justify-between space-x-2 rtl:space-x-reverse">
                                                            <label
                                                                class="filament-forms-field-wrapper-label inline-flex items-center space-x-3 rtl:space-x-reverse"
                                                                for="data.board_id">
                                                                <span
                                                                    class="text-sm font-medium leading-4 text-gray-700 dark:text-gray-300">
                                                                    Board
                                                                    <sup class="font-medium text-red-600">*</sup>
                                                                </span>
                                                            </label>
                                                        </div>

                                                        <div
                                                            class="filament-forms-select-component flex items-center space-x-1 rtl:space-x-reverse group">
                                                            <div class="flex-1 min-w-0">
                                                                <select name="type" class="w-full rounded-lg border-gray-300">
                                                                    <option value="" selected="">Select an option</option>
                                                                    <template x-for="board in boards" :key="board">
                                                                        <option :value="board.id" :selected="board.id ==={{ form.type.value|default_if_none:'00'}}"  x-text="board.name"></option>
                                                                    </template>
                                                                </select>
                                                            </div>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class=" col-span-1">
                                                <div class="filament-forms-field-wrapper">

                                                    <div class="space-y-2">
                                                        <div
                                                            class="flex items-center justify-between space-x-2 rtl:space-x-reverse">
                                                            <label
                                                                class="filament-forms-field-wrapper-label inline-flex items-center space-x-3 rtl:space-x-reverse"
                                                                for="data.notify_subscribers">
                                                                <button role="switch" aria-checked="true" type="button"
                                                                    class="filament-forms-toggle-component relative inline-flex border-2 border-transparent shrink-0 h-6 w-11 rounded-full cursor-pointer transition-colors ease-in-out duration-200 focus:outline-none disabled:opacity-70 disabled:cursor-not-allowed disabled:pointer-events-none bg-primary-600">
                                                                    <span
                                                                        class="pointer-events-none relative inline-block h-5 w-5 rounded-full bg-white shadow transform ring-0 ease-in-out transition duration-200 translate-x-5 rtl:-translate-x-5">
                                                                        <span
                                                                            class="absolute inset-0 h-full w-full flex items-center justify-center transition-opacity opacity-0 ease-out duration-100"
                                                                            aria-hidden="true">
                                                                        </span>

                                                                        <span
                                                                            class="absolute inset-0 h-full w-full flex items-center justify-center transition-opacity opacity-100 ease-in duration-200"
                                                                            aria-hidden="true">
                                                                        </span>
                                                                    </span>
                                                                </button>
                                                                <span
                                                                    class="text-sm font-medium leading-4 text-gray-700 dark:text-gray-300">
                                                                    Notify subscribers
                                                                </span>
                                                            </label>
                                                        </div>

                                                        <div class="filament-forms-field-wrapper-helper-text text-sm text-gray-600 dark:text-gray-300">
                                                            <p>Send a notification with updates about the item</p>
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class=" col-span-1">
                                                <div class="filament-forms-field-wrapper">

                                                    <div class="space-y-2">
                                                        <div
                                                            class="flex items-center justify-between space-x-2 rtl:space-x-reverse">
                                                            <label
                                                                class="filament-forms-field-wrapper-label inline-flex items-center space-x-3 rtl:space-x-reverse"
                                                                for="data.created_at">
                                                                <span
                                                                    class="text-sm font-medium leading-4 text-gray-700 dark:text-gray-300">
                                                                    Created at
                                                                </span>
                                                            </label>
                                                        </div>
                                                        <div class="filament-forms-placeholder-component">
                                                            {{object.created}}
                                                        </div>
                                                    </div>
                                                </div>

                                            </div>

                                            <div class=" col-span-1">
                                                <div class="filament-forms-field-wrapper">

                                                    <div class="space-y-2">
                                                        <div
                                                            class="flex items-center justify-between space-x-2 rtl:space-x-reverse">
                                                            <label
                                                                class="filament-forms-field-wrapper-label inline-flex items-center space-x-3 rtl:space-x-reverse"
                                                                for="data.updated_at">
                                                                <span
                                                                    class="text-sm font-medium leading-4 text-gray-700 dark:text-gray-300">
                                                                    Updated at
                                                                </span>
                                                            </label>
                                                        </div>
                                                        <div class="filament-forms-placeholder-component">
                                                            {% if object.updated %} {{object.updated}} {% else %} {{object.created}} {% endif %}

                                                        </div>
                                                    </div>
                                                </div>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
                <div class="filament-page-actions flex flex-wrap items-center gap-4 justify-start filament-form-actions">
                    <button type="submit" class="bg-blue-600 filament-button inline-flex items-center justify-center py-1 gap-1 font-medium rounded-lg border transition-colors focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-inset dark:focus:ring-offset-0 min-h-[2.25rem] px-4 text-sm text-gray-800 bg-white border-gray-300 focus:ring-primary-600 focus:text-primary-600 focus:bg-primary-50 focus:border-primary-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-200 dark:focus:text-primary-400 dark:focus:border-primary-400 dark:focus:bg-gray-800 filament-page-button-action">
                        <span class="text-white">
                            Save changes
                        </span>
                    </button>

                    <a class="filament-button inline-flex items-center justify-center py-1 gap-1 font-medium rounded-lg border transition-colors focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-inset dark:focus:ring-offset-0 min-h-[2.25rem] px-4 text-sm text-gray-800 bg-white border-gray-300 focus:ring-primary-600 focus:text-primary-600 focus:bg-primary-50 focus:border-primary-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-200 dark:focus:text-primary-400 dark:focus:border-primary-400 dark:focus:bg-gray-800 filament-page-button-action"
                        href="{% url 'custom_admin:tasks' %}">
                        <span class="">
                            Cancel
                        </span>
                    </a>
                </div>
            </form>
          
          
            <div class="fixed inset-0 z-10 flex items-center justify-center overflow-auto bg-black bg-opacity-50" x-show="delete_popup" >
                  <!-- OG-IMAGE Modal inner -->
                  <div x-cloak  class=" px-6 py-4 mx-auto text-left bg-white rounded shadow-lg w-1/2 h-100">
                    <!-- Title / Close-->
                    <div class="flex items-center justify-between mb-3">
                        <h2 class="text-xl font-semibold tracking-tight">
                            <div x-text="delete_popup_header_text">
                               Delete {{object.name}}
                            </div>
                            <div class="text-medium">
                            </div>
                        </h2>
    
                        <button type="button" class="z-50 cursor-pointer" @click="delete_popup = false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                 viewBox="0 0 24 24" fill="none" stroke="black">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                        </button>
                    </div>
                    <div class="border-t"></div>
                    <div class="py-2 mt-3 mb-3">
                        <p>Are you sure you would like to do this?</p>
                    </div>
                    <div class="border-t"></div>
                    <footer class="flex items-center py-2 space-x-4 mt-2">
                        <button @click="delete_popup = false" type="button"
                                class="filament-button inline-flex items-center justify-center py-1 gap-1 font-medium rounded-lg border transition-colors focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-inset dark:focus:ring-offset-0 min-h-[2.25rem] px-4 text-sm text-gray-800 bg-white border-gray-300 focus:ring-primary-600 focus:text-primary-600 focus:bg-primary-50 focus:border-primary-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-200 dark:focus:text-primary-400 dark:focus:border-primary-400 dark:focus:bg-gray-800">
                          <span class="flex items-center gap-1">
                              <span class="">
                                  Cancel
                              </span>
                          </span>
                        </button>
                      
                        
                          <a x-bind:href="delete_popup_url"><button type="button" class="bg-red-600 filament-button inline-flex items-center justify-center py-1 gap-1 font-medium rounded-lg border transition-colors focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-inset dark:focus:ring-offset-0 min-h-[2.25rem] px-4 text-sm text-gray-800 bg-white border-gray-300  focus:ring-primary-600 focus:text-primary-600 focus:bg-primary-50 focus:border-primary-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-200 dark:focus:text-primary-400 dark:focus:border-primary-400 dark:focus:bg-gray-800">
                              <span class="flex items-center gap-1">
                                <span class="text-white">
                                    Delete
                                </span>
                              </span>
                          </button></a>
                    </footer>
            
                
        </div>
            
            </div>
          
             <div class="fixed inset-0 z-10 flex items-center justify-center overflow-auto bg-black bg-opacity-50" x-show="og_popup">
                  <!-- OG-IMAGE Modal inner -->
                  <div x-cloak  class=" px-6 py-4 mx-auto text-left bg-white rounded shadow-lg w-1/2 h-100">
                    <!-- Title / Close-->
                    <div class="flex items-center justify-between mb-3">
                        <h2 class="text-xl font-semibold tracking-tight">
                            <div>
                               Delete OG image
                            </div>
                            <div class="text-medium">
                            </div>
                        </h2>
    
                        <button type="button" class="z-50 cursor-pointer" @click="og_popup = false">
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24"
                                 viewBox="0 0 24 24" fill="none" stroke="black">
                                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2"
                                      d="M6 18L18 6M6 6l12 12"/>
                            </svg>
                        </button>
                    </div>
                    <div class="border-t"></div>
                    <div class="py-2 mt-3 mb-3">
                        <p>Are you sure you'd like to delete the OG image for this item? This could be especially handy if you have changed branding color, if you feel this image is not correct.</p>
                    </div>
                    <div class="border-t"></div>
                    <footer class="flex items-center py-2 space-x-4 mt-2">
                        <button @click="og_popup = false" type="button"
                                class="filament-button inline-flex items-center justify-center py-1 gap-1 font-medium rounded-lg border transition-colors focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-inset dark:focus:ring-offset-0 min-h-[2.25rem] px-4 text-sm text-gray-800 bg-white border-gray-300 focus:ring-primary-600 focus:text-primary-600 focus:bg-primary-50 focus:border-primary-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-200 dark:focus:text-primary-400 dark:focus:border-primary-400 dark:focus:bg-gray-800">
                          <span class="flex items-center gap-1">
                              <span class="">
                                  Cancel
                              </span>
                          </span>
                        </button>
                        <form method="post" action="{% url 'custom_admin:remove_og_image' %}" class="pt-1">{% csrf_token %}
                          <input type="hidden" name="og_img_name" value="{{object.slug}}.jpg">
                          <input type="hidden" name="redirect_url" value="{{request.path}}">
                          <button type="submit" class="bg-blue-600 filament-button inline-flex items-center justify-center py-1 gap-1 font-medium rounded-lg border transition-colors focus:outline-none focus:ring-offset-2 focus:ring-2 focus:ring-inset dark:focus:ring-offset-0 min-h-[2.25rem] px-4 text-sm text-gray-800 bg-white border-gray-300  focus:ring-primary-600 focus:text-primary-600 focus:bg-primary-50 focus:border-primary-600 dark:bg-gray-800 dark:hover:bg-gray-700 dark:border-gray-600 dark:hover:border-gray-500 dark:text-gray-200 dark:focus:text-primary-400 dark:focus:border-primary-400 dark:focus:bg-gray-800">
                              <span class="flex items-center gap-1">
                                <span class="text-white">
                                    Confirm
                                </span>
                              </span>
                            </button>
                        </form>
                    </footer>
            
                
        </div>
            
            </div>




            <div aria-hidden="true" class="filament-hr border-t dark:border-gray-700"></div>

            <div class="filament-resources-relation-managers-container space-y-2">
                <div class="flex justify-center">
                    <nav
                        class="filament-tabs flex overflow-x-auto items-center p-1 space-x-1 rtl:space-x-reverse text-sm text-gray-600 bg-gray-500/5 rounded-xl dark:bg-gray-500/20">
                        <button @click="activeTab = 0"  :class="{ 'active': activeTab === 0,'bg-white': activeTab === 0 }" tabindex="0" role="tab" type="button"
                                class="flex whitespace-nowrap items-center h-8 px-5 font-medium rounded-lg whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-primary-600 focus:ring-inset text-primary-600 shadow dark:text-white dark:bg-primary-600"
                                >
                            Activities
                        </button>
                        <button @click="activeTab = 1"  :class="{ 'active': activeTab === 1,'bg-white': activeTab === 1 }" tabindex="-1" role="tab" type="button"
                                class="flex whitespace-nowrap items-center h-8 px-5 font-medium rounded-lg whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-primary-600 focus:ring-inset hover:text-gray-800 focus:text-primary-600 dark:text-gray-400 dark:hover:text-gray-300 dark:focus:text-gray-400">
                            Comments
                        </button>
                        <button @click="activeTab = 2"  :class="{ 'active': activeTab === 2,'bg-white': activeTab === 2 }" tabindex="-1" role="tab" type="button"
                                class="flex whitespace-nowrap items-center h-8 px-5 font-medium rounded-lg whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-primary-600 focus:ring-inset hover:text-gray-800 focus:text-primary-600 dark:text-gray-400 dark:hover:text-gray-300 dark:focus:text-gray-400">
                            Votes
                        </button>
                        <button @click="activeTab = 3"  :class="{ 'active': activeTab === 3,'bg-white': activeTab === 3 }" tabindex="-1" role="tab" type="button"
                                  class="flex whitespace-nowrap items-center h-8 px-5 font-medium rounded-lg whitespace-nowrap focus:outline-none focus:ring-2 focus:ring-primary-600 focus:ring-inset hover:text-gray-800 focus:text-primary-600 dark:text-gray-400 dark:hover:text-gray-300 dark:focus:text-gray-400">
                              Changelogs
                        </button>
                    </nav>
                </div>

                <div id="relationManager0" role="tabpanel" tabindex="0" class="space-y-4 focus:outline-none">
                    <div x-show="activeTab === 0" class="filament-resource-relation-manager">
                        <div class="filament-tables-component">
                            <div
                                class="border border-gray-300 shadow-sm bg-white rounded-xl filament-tables-container dark:bg-gray-800 dark:border-gray-700">
                                <div >
                                    <div class="px-2 pt-2">
                                        <div class="filament-tables-header px-4 py-2 mb-2">
                                            <div
                                                class="flex flex-col gap-4 md:justify-between md:items-start md:flex-row md:-mr-2">
                                                <div>
                                                    <h2
                                                        class="filament-tables-header-heading text-xl font-bold tracking-tight">
                                                        Activities
                                                    </h2>
                                                    <p class="filament-tables-header-description">
                                                    </p>
                                                </div>
                                                <div class="filament-tables-actions-container flex flex-wrap items-center gap-4 shrink-0">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div class="flex items-center justify-between p-2 h-14"  style="display: none;">
                                        <div class="flex items-center gap-2">
                                        </div>
                                    </div>
                                </div>


                                <div class="overflow-y-auto relative dark:border-gray-700 border-t" >
                                    <table class="filament-tables-table w-full text-left rtl:text-right divide-y table-auto dark:divide-gray-700">
                                        <thead>
                                            <tr class="bg-gray-500/5">
                                                <td class="filament-tables-checkbox-cell w-4 px-4 whitespace-nowrap">
                                                    <input
                                                        class="block border-gray-300 rounded shadow-sm text-primary-600 focus:ring focus:ring-primary-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-primary-600 dark:checked:border-primary-600"
                                                        type="checkbox">
                                                </td>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            Causer
                                                        </span>
                                                    </button>
                                                </th>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            Description
                                                        </span>
                                                    </button>
                                                </th>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button  type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 ">
                                                        <span>
                                                            Date
                                                        </span>
                                                    </button>
                                                </th>
                                                <th class="w-5"></th>
                                            </tr>
                                        </thead>

                                        <tbody
                                            class="divide-y whitespace-nowrap dark:divide-gray-700">
                                        <template x-for="data in task_histories_data" :key="data">
                                            <tr class="filament-tables-row">
                                                <td
                                                    class="filament-tables-reorder-cell w-4 px-4 whitespace-nowrap text-gray-500 transition group-hover:text-primary-500 dark:text-gray-400 dark:group-hover:text-primary-400 hidden">
                                                    <svg class="block h-4 w-4" xmlns="http://www.w3.org/2000/svg"
                                                        fill="none" viewBox="0 0 24 24" stroke-width="2"
                                                        stroke="currentColor" aria-hidden="true">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            d="M4 6h16M4 12h16M4 18h16"></path>
                                                    </svg>
                                                </td>

                                                <td class="filament-tables-checkbox-cell w-4 px-4 whitespace-nowrap">
                                                    <input
                                                        class="block border-gray-300 rounded shadow-sm text-primary-600 focus:ring focus:ring-primary-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-primary-600 dark:checked:border-primary-600 table-row-checkbox"
                                                         value="39"

                                                        type="checkbox">
                                                </td>
                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="data.action_by__email"></span>
                                                    </div>
                                                </td>

                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="data.note"></span>
                                                    </div>
                                                </td>

                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="date_format(data.created)"></span>
                                                    </div>
                                                </td>

                                                <td class="filament-tables-actions-cell px-4 py-3 whitespace-nowrap">
                                                    <div class="flex items-center gap-4 justify-end">
                                                    </div>
                                                </td>

                                                <td class="w-full px-4 py-4 animate-pulse hidden" colspan="5">
                                                    <div class="h-4 bg-gray-300 rounded-md dark:bg-gray-600"></div>
                                                </td>
                                            </tr>
                                        </template>

                                        </tbody>

                                    </table>
                                </div>

                                <div class="p-2 border-t dark:border-gray-700">
                                    <nav role="navigation" aria-label="Pagination Navigation"
                                        class="filament-tables-pagination flex items-center justify-between">
                                        <div class="flex justify-between items-center flex-1 lg:hidden">
                                            <div class="w-10">
                                            </div>

                                            <div
                                                class="flex items-center space-x-2 filament-tables-pagination-records-per-page-selector rtl:space-x-reverse">
                                                <select  id="tableRecordsPerPageSelect"
                                                    class="h-8 text-sm pr-8 leading-none transition duration-75 border-gray-300 rounded-lg shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-inset focus:ring-primary-500 dark:text-white dark:bg-gray-700 dark:border-gray-600 dark:focus:border-primary-500">
                                                    <template x-for="option in options" :key="option">
                                                      <option :value="option" x-text="option"></option>
                                                    </template>
                                                </select>

                                                <label for="tableRecordsPerPageSelect"
                                                    class="text-sm font-medium dark:text-white">
                                                    per page
                                                </label>
                                            </div>

                                            <div class="w-10">
                                            </div>
                                        </div>

                                        <div class="hidden flex-1 items-center lg:grid grid-cols-3">
                                            <div class="flex items-center">
                                                <div class="pl-2 text-sm font-medium dark:text-white">
                                                    Showing <span x-text="HistoryResults()"></span> to <span x-text="HistoryEndResults()"></span> of <span x-text="total_of_histories"></span> results
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-center">
                                                <div
                                                    class="flex items-center space-x-2 filament-tables-pagination-records-per-page-selector rtl:space-x-reverse">
                                                    <select
                                                        id="tableRecordsPerPageSelect"
                                                        class="h-8 text-sm pr-8 leading-none transition duration-75 border-gray-300 rounded-lg shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-inset focus:ring-primary-500 dark:text-white dark:bg-gray-700 dark:border-gray-600 dark:focus:border-primary-500">
                                                        <template x-for="option in options" :key="option">
                                                            <option :value="option" x-text="option"></option>
                                                        </template>
                                                    </select>

                                                    <label for="tableRecordsPerPageSelect"
                                                        class="text-sm font-medium dark:text-white">
                                                        per page
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-end">
                                            </div>
                                        </div>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div x-show="activeTab === 1" class="filament-resource-relation-manager">
                        <div class="filament-tables-component">
                            <div
                                class="border border-gray-300 shadow-sm bg-white rounded-xl filament-tables-container dark:bg-gray-800 dark:border-gray-700">
                                <div >
                                    <div class="px-2 pt-2">
                                        <div class="filament-tables-header px-4 py-2 mb-2">
                                            <div
                                                class="flex flex-col gap-4 md:justify-between md:items-start md:flex-row md:-mr-2">
                                                <div>
                                                    <h2
                                                        class="filament-tables-header-heading text-xl font-bold tracking-tight">
                                                        Comments
                                                    </h2>

                                                    <p class="filament-tables-header-description">

                                                    </p>
                                                </div>

                                                <div
                                                    class="filament-tables-actions-container flex flex-wrap items-center gap-4 shrink-0">
                                                </div>
                                            </div>
                                        </div>
                                    </div>


                                    <div
                                        class="flex items-center justify-between p-2 h-14"  style="display: none;">
                                        <div class="flex items-center gap-2">
                                        </div>

                                    </div>
                                </div>


                                <div class="overflow-y-auto relative dark:border-gray-700 border-t" >
                                    <table
                                        class="filament-tables-table w-full text-left rtl:text-right divide-y table-auto dark:divide-gray-700">
                                        <thead>
                                            <tr class="bg-gray-500/5">
                                                <td class="filament-tables-checkbox-cell w-4 px-4 whitespace-nowrap">
                                                    <input
                                                        class="block border-gray-300 rounded shadow-sm text-primary-600 focus:ring focus:ring-primary-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-primary-600 dark:checked:border-primary-600"
                                                        type="checkbox">
                                                </td>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            Content
                                                        </span>

                                                    </button>
                                                </th>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            User
                                                        </span>

                                                    </button>
                                                </th>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button  type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 ">
                                                        <span>
                                                            Date
                                                        </span>

                                                        </button>
                                                </th>

                                                <th class="w-5"></th>
                                            </tr>
                                        </thead>

                                        <tbody
                                            class="divide-y whitespace-nowrap dark:divide-gray-700">
                                        
                                        
                                        <tr x-show="comments.length == 0">
                                          <td colspan="5">
                                              <div class="flex items-center justify-center p-4">
                                                  <div class="filament-tables-empty-state flex flex-1 flex-col items-center justify-center p-6 mx-auto space-y-6 text-center bg-white">
                                                      <div class="max-w-md space-y-1">
                                                          <h2 class="filament-tables-empty-state-heading text-xl font-bold tracking-tight">
                                                              No records found
                                                          </h2>
                                                          <p class="filament-tables-empty-state-description whitespace-normal text-sm font-medium text-gray-500">
                                                          </p>
                                                      </div>
  
                                                  </div>
                                              </div>
                                          </td>
                                        </tr>
                                        
                                        
                                        <template x-for="comment in user_comments" :key="comment">
                                            <tr class="filament-tables-row">
                                                <td
                                                    class="filament-tables-reorder-cell w-4 px-4 whitespace-nowrap text-gray-500 transition group-hover:text-primary-500 dark:text-gray-400 dark:group-hover:text-primary-400 hidden">
                                                    <svg class="block h-4 w-4" xmlns="http://www.w3.org/2000/svg"
                                                        fill="none" viewBox="0 0 24 24" stroke-width="2"
                                                        stroke="currentColor" aria-hidden="true">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            d="M4 6h16M4 12h16M4 18h16"></path>
                                                    </svg>
                                                </td>

                                                <td class="filament-tables-checkbox-cell w-4 px-4 whitespace-nowrap">
                                                    <input
                                                        class="block border-gray-300 rounded shadow-sm text-primary-600 focus:ring focus:ring-primary-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-primary-600 dark:checked:border-primary-600 table-row-checkbox"
                                                         value="39"

                                                        type="checkbox">
                                                </td>
                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-html="comment.text"></span>
                                                    </div>
                                                </td>

                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="comment.user__email"></span>
                                                    </div>
                                                </td>

                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="date_format(comment.created)"></span>
                                                    </div>
                                                </td>
                                              
                                                <td class="filament-tables-actions-cell px-4 py-3 whitespace-nowrap">
                                                    <div class="flex items-center gap-4 justify-end text-red-600">
                                                        <button @click="showingPopup('comment',window.reverse('custom_admin:delete_comment', { pk: comment.id }))" type="button" class="filament-link inline-flex items-center justify-center gap-0.5 font-medium hover:underline focus:outline-none focus:underline text-sm text-danger-600 hover:text-danger-500 dark:text-danger-500 dark:hover:text-danger-400 filament-tables-link-action">
                                                            <svg class="filament-link-icon w-4 h-4 mr-1 rtl:ml-1"
                                                                 xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                                                 fill="currentColor" aria-hidden="true">
                                                                <path fill-rule="evenodd"
                                                                      d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                                                                      clip-rule="evenodd"></path>
                                                            </svg>
                                                            Delete
                                                        </button>
                                                    </div>
                                                </td>

                                                <td class="filament-tables-actions-cell px-4 py-3 whitespace-nowrap">
                                                    <div class="flex items-center gap-4 justify-end">
                                                    </div>
                                                </td>

                                                <td class="w-full px-4 py-4 animate-pulse hidden" colspan="5">
                                                    <div class="h-4 bg-gray-300 rounded-md dark:bg-gray-600"></div>
                                                </td>
                                            </tr>
                                        </template>

                                        </tbody>

                                    </table>
                                </div>

                                <div class="p-2 border-t dark:border-gray-700">
                                    <nav role="navigation" aria-label="Pagination Navigation"
                                        class="filament-tables-pagination flex items-center justify-between">
                                        <div class="flex justify-between items-center flex-1 lg:hidden">
                                            <div class="w-10">
                                            </div>

                                            <div
                                                class="flex items-center space-x-2 filament-tables-pagination-records-per-page-selector rtl:space-x-reverse">
                                                <select  id="tableRecordsPerPageSelect"
                                                    class="h-8 text-sm pr-8 leading-none transition duration-75 border-gray-300 rounded-lg shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-inset focus:ring-primary-500 dark:text-white dark:bg-gray-700 dark:border-gray-600 dark:focus:border-primary-500">
                                                    <template x-for="option in options" :key="option">
                                                      <option :value="option" x-text="option"></option>
                                                    </template>
                                                </select>

                                                <label for="tableRecordsPerPageSelect"
                                                    class="text-sm font-medium dark:text-white">
                                                    per page
                                                </label>
                                            </div>

                                            <div class="w-10">
                                            </div>
                                        </div>
                                        <div x-show="total_of_comments > 0 " class="hidden flex-1 items-center lg:grid grid-cols-3">
                                            <div class="flex items-center">
                                                <div class="pl-2 text-sm font-medium dark:text-white">
                                                  Showing <span x-text="CommentResults()"></span> to <span x-text="CommentEndResults()"></span> of <span x-text="total_of_comments"></span> results
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-center">
                                                <div
                                                    class="flex items-center space-x-2 filament-tables-pagination-records-per-page-selector rtl:space-x-reverse">
                                                    <select
                                                        id="tableRecordsPerPageSelect"
                                                        class="h-8 text-sm pr-8 leading-none transition duration-75 border-gray-300 rounded-lg shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-inset focus:ring-primary-500 dark:text-white dark:bg-gray-700 dark:border-gray-600 dark:focus:border-primary-500">
                                                        <template x-for="option in options" :key="option">
                                                            <option :value="option" x-text="option"></option>
                                                        </template>
                                                    </select>

                                                    <label for="tableRecordsPerPageSelect"
                                                        class="text-sm font-medium dark:text-white">
                                                        per page
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-end">
                                            </div>
                                        </div>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div x-show="activeTab === 2" class="filament-resource-relation-manager">
                        <div class="filament-tables-component">
                            <div
                                class="border border-gray-300 shadow-sm bg-white rounded-xl filament-tables-container dark:bg-gray-800 dark:border-gray-700">
                                <div >
                                    <div class="px-2 pt-2">
                                        <div class="filament-tables-header px-4 py-2 mb-2">
                                            <div
                                                class="flex flex-col gap-4 md:justify-between md:items-start md:flex-row md:-mr-2">
                                                <div>
                                                    <h2
                                                        class="filament-tables-header-heading text-xl font-bold tracking-tight">
                                                        Votes
                                                    </h2>
                                                    <p class="filament-tables-header-description">

                                                    </p>
                                                </div>

                                                <div
                                                    class="filament-tables-actions-container flex flex-wrap items-center gap-4 shrink-0">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                    <div
                                        class="flex items-center justify-between p-2 h-14"  style="display: none;">
                                        <div class="flex items-center gap-2">
                                        </div>

                                    </div>
                                </div>


                                <div class="overflow-y-auto relative dark:border-gray-700 border-t" >
                                    <table
                                        class="filament-tables-table w-full text-left rtl:text-right divide-y table-auto dark:divide-gray-700">
                                        <thead>
                                            <tr class="bg-gray-500/5">
                                                <td class="filament-tables-checkbox-cell w-4 px-4 whitespace-nowrap">
                                                    <input
                                                        class="block border-gray-300 rounded shadow-sm text-primary-600 focus:ring focus:ring-primary-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-primary-600 dark:checked:border-primary-600"
                                                        type="checkbox">
                                                </td>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            User
                                                        </span>

                                                    </button>
                                                </th>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            Date
                                                        </span>

                                                    </button>
                                                </th>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button  type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 ">
                                                        <span>
                                                            Subscribed
                                                        </span>

                                                        <svg class="filament-tables-header-cell-sort-icon h-3 w-3 dark:text-gray-300"
                                                            xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                                            fill="currentColor" aria-hidden="true">
                                                            <path fill-rule="evenodd"
                                                                d="M5.293 7.293a1 1 0 011.414 0L10 10.586l3.293-3.293a1 1 0 111.414 1.414l-4 4a1 1 0 01-1.414 0l-4-4a1 1 0 010-1.414z"
                                                                clip-rule="evenodd"></path>
                                                        </svg> </button>
                                                </th>

                                                <th class="w-5"></th>
                                            </tr>
                                        </thead>

                                        <tbody
                                            class="divide-y whitespace-nowrap dark:divide-gray-700">
                                        
                                        <tr x-show="votes.length == 0">
                                          <td colspan="5">
                                              <div class="flex items-center justify-center p-4">
                                                  <div class="filament-tables-empty-state flex flex-1 flex-col items-center justify-center p-6 mx-auto space-y-6 text-center bg-white">
                                                      <div class="max-w-md space-y-1">
                                                          <h2 class="filament-tables-empty-state-heading text-xl font-bold tracking-tight">
                                                              No records found
                                                          </h2>
                                                          <p class="filament-tables-empty-state-description whitespace-normal text-sm font-medium text-gray-500">
                                                          </p>
                                                      </div>
                                                  </div>
                                              </div>
                                          </td>
                                        </tr>
                                        <template x-for="vote in user_votes" :key="vote">
                                            <tr class="filament-tables-row">
                                                <td
                                                    class="filament-tables-reorder-cell w-4 px-4 whitespace-nowrap text-gray-500 transition group-hover:text-primary-500 dark:text-gray-400 dark:group-hover:text-primary-400 hidden">
                                                    <svg class="block h-4 w-4" xmlns="http://www.w3.org/2000/svg"
                                                        fill="none" viewBox="0 0 24 24" stroke-width="2"
                                                        stroke="currentColor" aria-hidden="true">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            d="M4 6h16M4 12h16M4 18h16"></path>
                                                    </svg>
                                                </td>

                                                <td class="filament-tables-checkbox-cell w-4 px-4 whitespace-nowrap">
                                                    <input
                                                        class="block border-gray-300 rounded shadow-sm text-primary-600 focus:ring focus:ring-primary-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-primary-600 dark:checked:border-primary-600 table-row-checkbox"
                                                         value="39"

                                                        type="checkbox">
                                                </td>
                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="vote.user__email"></span>
                                                    </div>
                                                </td>

                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="date_format(vote.created)"></span>
                                                    </div>
                                                </td>
                                                <td class="filament-tables-cell dark:text-white">
                                                  <div class="filament-tables-text-column px-4 py-3">
                                                    <svg x-show="vote.task__is_subscribed"
                                                         class="w-6 h-6 text-success-500"
                                                         xmlns="http://www.w3.org/2000/svg" fill="none"
                                                         viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                                         aria-hidden="true">
                                                      <path stroke-linecap="round" stroke-linejoin="round"
                                                            d="M9 12l2 2 4-4m6 2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                                    </svg>
    
                                                    <svg x-show="!vote.task__is_subscribed"
                                                         class="w-6 h-6 text-danger-500"
                                                         xmlns="http://www.w3.org/2000/svg" fill="none"
                                                         viewBox="0 0 24 24" stroke-width="2" stroke="currentColor"
                                                         aria-hidden="true">
                                                      <path stroke-linecap="round" stroke-linejoin="round"
                                                            d="M10 14l2-2m0 0l2-2m-2 2l-2-2m2 2l2 2m7-2a9 9 0 11-18 0 9 9 0 0118 0z"></path>
                                                    </svg>
                                                  </div>
                                                  
                                                  <td wire:loading.remove.delay=""
                                                        wire:target="previousPage,nextPage,gotoPage,sortTable,tableFilters,resetTableFiltersForm,tableSearchQuery,tableColumnSearchQueries,tableRecordsPerPage,$set"
                                                        class="filament-tables-actions-cell px-4 py-3 whitespace-nowrap">
                                                        <div class="flex items-center gap-4 justify-end">
                                                            <a class="text-blue-600	 filament-link inline-flex items-center justify-center gap-0.5 font-medium hover:underline focus:outline-none focus:underline text-sm text-primary-600 hover:text-primary-500 dark:text-primary-500 dark:hover:text-primary-400 filament-tables-link-action"
                                                              @click="window.location.href=window.reverse('custom_admin:delete_vote', { pk: vote.id })"
                                                                dusk="filament.tables.action.edit">
                                                                <svg class="filament-link-icon w-4 h-4 mr-1 rtl:ml-1"
                                                                    xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                                                    fill="currentColor" aria-hidden="true">
                                                                    <path
                                                                        d="M13.586 3.586a2 2 0 112.828 2.828l-.793.793-2.828-2.828.793-.793zM11.379 5.793L3 14.172V17h2.828l8.38-8.379-2.83-2.828z">
                                                                    </path>
                                                                </svg>
                                                                Edit
                                                            </a>
  
                                                          <a
                                                            class="text-red-600 filament-link inline-flex items-center justify-center gap-0.5 font-medium hover:underline focus:outline-none focus:underline text-sm text-primary-600 hover:text-primary-500 dark:text-primary-500 dark:hover:text-primary-400 filament-tables-link-action"
                                                            @click="window.location.href=window.reverse('custom_admin:delete_vote', { pk: vote.id })"
                                                            dusk="filament.tables.action.edit">
                                                            <svg class="filament-link-icon w-4 h-4 mr-1 rtl:ml-1"
                                                                 xmlns="http://www.w3.org/2000/svg" viewBox="0 0 20 20"
                                                                 fill="currentColor" aria-hidden="true">
                                                              <path fill-rule="evenodd"
                                                                    d="M9 2a1 1 0 00-.894.553L7.382 4H4a1 1 0 000 2v10a2 2 0 002 2h8a2 2 0 002-2V6a1 1 0 100-2h-3.382l-.724-1.447A1 1 0 0011 2H9zM7 8a1 1 0 012 0v6a1 1 0 11-2 0V8zm5-1a1 1 0 00-1 1v6a1 1 0 102 0V8a1 1 0 00-1-1z"
                                                                    clip-rule="evenodd"></path>
                                                            </svg>
                                                            Delete
                                                          </a>
                                                        </div>
                                                    </td>
                                                   
                                                </td>
                                                <td class="w-full px-4 py-4 animate-pulse hidden" colspan="5">
                                                    <div class="h-4 bg-gray-300 rounded-md dark:bg-gray-600"></div>
                                                </td>
                                            </tr>
                                        </template>

                                        </tbody>

                                    </table>
                                </div>

                                <div class="p-2 border-t dark:border-gray-700">
                                    <nav role="navigation" aria-label="Pagination Navigation"
                                        class="filament-tables-pagination flex items-center justify-between">
                                        <div class="flex justify-between items-center flex-1 lg:hidden">
                                            <div class="w-10">
                                            </div>

                                            <div
                                                class="flex items-center space-x-2 filament-tables-pagination-records-per-page-selector rtl:space-x-reverse">
                                                <select  id="tableRecordsPerPageSelect"
                                                    class="h-8 text-sm pr-8 leading-none transition duration-75 border-gray-300 rounded-lg shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-inset focus:ring-primary-500 dark:text-white dark:bg-gray-700 dark:border-gray-600 dark:focus:border-primary-500">
                                                    <template x-for="option in options" :key="option">
                                                      <option :value="option" x-text="option"></option>
                                                    </template>
                                                </select>

                                                <label for="tableRecordsPerPageSelect"
                                                    class="text-sm font-medium dark:text-white">
                                                    per page
                                                </label>
                                            </div>

                                            <div class="w-10">
                                            </div>
                                        </div>

                                        <div class="hidden flex-1 items-center lg:grid grid-cols-3" x-show = 'total_of_votes > 0'>
                                            <div class="flex items-center">
                                                <div class="pl-2 text-sm font-medium dark:text-white">
                                                  Showing <span x-text="VoteResults()"></span> to <span x-text="VoteEndResults()"></span> of <span x-text="total_of_votes"></span> results
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-center">
                                                <div
                                                    class="flex items-center space-x-2 filament-tables-pagination-records-per-page-selector rtl:space-x-reverse">
                                                    <select
                                                        id="tableRecordsPerPageSelect"
                                                        class="h-8 text-sm pr-8 leading-none transition duration-75 border-gray-300 rounded-lg shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-inset focus:ring-primary-500 dark:text-white dark:bg-gray-700 dark:border-gray-600 dark:focus:border-primary-500">
                                                        <template x-for="option in options" :key="option">
                                                            <option :value="option" x-text="option"></option>
                                                        </template>
                                                    </select>

                                                    <label for="tableRecordsPerPageSelect"
                                                        class="text-sm font-medium dark:text-white">
                                                        per page
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-end">
                                            </div>
                                        </div>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div x-show="activeTab === 3" class="filament-resource-relation-manager">
                        <div class="filament-tables-component">
                            <div
                                class="border border-gray-300 shadow-sm bg-white rounded-xl filament-tables-container dark:bg-gray-800 dark:border-gray-700">
                                <div >
                                    <div class="px-2 pt-2">
                                        <div class="filament-tables-header px-4 py-2 mb-2">
                                            <div
                                                class="flex flex-col gap-4 md:justify-between md:items-start md:flex-row md:-mr-2">
                                                <div>
                                                    <h2
                                                        class="filament-tables-header-heading text-xl font-bold tracking-tight">
                                                        Changelogs
                                                    </h2>
                                                    <p class="filament-tables-header-description">

                                                    </p>
                                                </div>

                                                <div
                                                    class="filament-tables-actions-container flex flex-wrap items-center gap-4 shrink-0">
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                                <div class="overflow-y-auto relative dark:border-gray-700 border-t" >
                                    <table
                                        class="filament-tables-table w-full text-left rtl:text-right divide-y table-auto dark:divide-gray-700">
                                        <thead>
                                            <tr class="bg-gray-500/5">
                                                <td class="filament-tables-checkbox-cell w-4 px-4 whitespace-nowrap">
                                                    <input
                                                        class="block border-gray-300 rounded shadow-sm text-primary-600 focus:ring focus:ring-primary-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-primary-600 dark:checked:border-primary-600"
                                                        type="checkbox">
                                                </td>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            Title
                                                        </span>
                                                    </button>
                                                </th>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            Published
                                                        </span>
                                                    </button>
                                                </th>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            Published at
                                                        </span>
                                                    </button>
                                                </th>
                                                <th class="filament-tables-header-cell p-0">
                                                    <button type="button"
                                                        class="flex items-center w-full px-4 py-2 whitespace-nowrap space-x-1 rtl:space-x-reverse font-medium text-sm text-gray-600 dark:text-gray-300 cursor-default ">
                                                        <span>
                                                            Created at
                                                        </span>
                                                    </button>
                                                </th>

                                                <th class="w-5"></th>
                                            </tr>
                                        </thead>

                                        <tbody
                                            class="divide-y whitespace-nowrap dark:divide-gray-700">
                                        
                                        <tr x-show="change_logs.length == 0">
                                          <td colspan="5">
                                              <div class="flex items-center justify-center p-4">
                                                  <div class="filament-tables-empty-state flex flex-1 flex-col items-center justify-center p-6 mx-auto space-y-6 text-center bg-white">
                                                      <div class="max-w-md space-y-1">
                                                          <h2 class="filament-tables-empty-state-heading text-xl font-bold tracking-tight">
                                                              No records found
                                                          </h2>
                                                          <p class="filament-tables-empty-state-description whitespace-normal text-sm font-medium text-gray-500">
                                                          </p>
                                                      </div>
                                                  </div>
                                              </div>
                                          </td>
                                        </tr>
                                        <template x-for="log in logs" :key="log">
                                            <tr class="filament-tables-row">
                                                <td
                                                    class="filament-tables-reorder-cell w-4 px-4 whitespace-nowrap text-gray-500 transition group-hover:text-primary-500 dark:text-gray-400 dark:group-hover:text-primary-400 hidden">
                                                    <svg class="block h-4 w-4" xmlns="http://www.w3.org/2000/svg"
                                                        fill="none" viewBox="0 0 24 24" stroke-width="2"
                                                        stroke="currentColor" aria-hidden="true">
                                                        <path stroke-linecap="round" stroke-linejoin="round"
                                                            d="M4 6h16M4 12h16M4 18h16"></path>
                                                    </svg>
                                                </td>

                                                <td class="filament-tables-checkbox-cell w-4 px-4 whitespace-nowrap">
                                                    <input
                                                        class="block border-gray-300 rounded shadow-sm text-primary-600 focus:ring focus:ring-primary-200 focus:ring-opacity-50 dark:bg-gray-700 dark:border-gray-600 dark:checked:bg-primary-600 dark:checked:border-primary-600 table-row-checkbox"
                                                         value="39"

                                                        type="checkbox">
                                                </td>
                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="log.user__email"></span>
                                                    </div>
                                                </td>
                                                
                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="log.user__email"></span>
                                                    </div>
                                                </td>
                                              
                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="log.user__email"></span>
                                                    </div>
                                                </td>

                                                <td class="filament-tables-cell dark:text-white">
                                                    <div class="filament-tables-text-column px-4 py-3">
                                                        <span  x-text="date_format(log.created)"></span>
                                                    </div>
                                                </td>
                                                
                                                <td class="w-full px-4 py-4 animate-pulse hidden" colspan="5">
                                                    <div class="h-4 bg-gray-300 rounded-md dark:bg-gray-600"></div>
                                                </td>
                                            </tr>
                                        </template>

                                        </tbody>

                                    </table>
                                </div>

                                <div class="p-2 border-t dark:border-gray-700">
                                    <nav role="navigation" aria-label="Pagination Navigation"
                                        class="filament-tables-pagination flex items-center justify-between">
                                        <div class="flex justify-between items-center flex-1 lg:hidden">
                                            <div class="w-10">
                                            </div>

                                            <div
                                                class="flex items-center space-x-2 filament-tables-pagination-records-per-page-selector rtl:space-x-reverse">
                                                <select  id="tableRecordsPerPageSelect"
                                                    class="h-8 text-sm pr-8 leading-none transition duration-75 border-gray-300 rounded-lg shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-inset focus:ring-primary-500 dark:text-white dark:bg-gray-700 dark:border-gray-600 dark:focus:border-primary-500">
                                                    <template x-for="option in options" :key="option">
                                                      <option :value="option" x-text="option"></option>
                                                    </template>
                                                </select>

                                                <label for="tableRecordsPerPageSelect"
                                                    class="text-sm font-medium dark:text-white">
                                                    per page
                                                </label>
                                            </div>

                                            <div class="w-10">
                                            </div>
                                        </div>

                                        <div class="hidden flex-1 items-center lg:grid grid-cols-3" x-show = 'change_logs.length > 0'>
                                            <div class="flex items-center">
                                                <div class="pl-2 text-sm font-medium dark:text-white">
                                                  Showing <span x-text="VoteResults()"></span> to <span x-text="VoteEndResults()"></span> of <span x-text="total_of_votes"></span> results
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-center">
                                                <div
                                                    class="flex items-center space-x-2 filament-tables-pagination-records-per-page-selector rtl:space-x-reverse">
                                                    <select
                                                        id="tableRecordsPerPageSelect"
                                                        class="h-8 text-sm pr-8 leading-none transition duration-75 border-gray-300 rounded-lg shadow-sm focus:border-primary-500 focus:ring-1 focus:ring-inset focus:ring-primary-500 dark:text-white dark:bg-gray-700 dark:border-gray-600 dark:focus:border-primary-500">
                                                        <template x-for="option in options" :key="option">
                                                            <option :value="option" x-text="option"></option>
                                                        </template>
                                                    </select>

                                                    <label for="tableRecordsPerPageSelect"
                                                        class="text-sm font-medium dark:text-white">
                                                        per page
                                                    </label>
                                                </div>
                                            </div>

                                            <div class="flex items-center justify-end">
                                            </div>
                                        </div>
                                    </nav>
                                </div>
                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
</div>
<script>
    var task_histories = {{task_histories|safe}}
    var comments = {{comments|safe}}
    var votes = {{votes|safe}}
    var project_id = '{{form.project.value|safe}}'
    var csrf_token = '{{csrf_token|safe}}'
</script>
<script src="{% static 'js/base.js' %}"></script>
<script src="{% static 'js/edit_task.js' %}"></script>
{% endblock content %}
